

}
// cytron driver pins we used
// (mode, PWM pin, DIR pin)
CytronMD motorLeft(PWM_DIR, 7, 8);
CytronMD motorRight(PWM_DIR, 9, 10);


// Set max speed
const int MAX_SPEED = 200;

// just making sure the code doesnt send a bad input
int clampSpeed(int s) {
  if (s > MAX_SPEED) return MAX_SPEED;
  if (s < 0) return 0;
  return s;
}

// main function for tha motors
// positive = forward
// negative = backward
void setMotors(int leftSpeed, int rightSpeed) {
  motorLeft.setSpeed(leftSpeed);
  motorRight.setSpeed(rightSpeed);
}

// stops everything
void stopMotors() {
  setMotors(0, 0);
}

// both motors forward
void forward(int speed) {
  speed = clampSpeed(speed);
  setMotors(speed, speed);
}

// both motors backward
void backward(int speed) {
  speed = clampSpeed(speed);
  setMotors(-speed, -speed);
}

// spin in place left
// left wheel backward, right wheel forward
void turnLeft(int speed) {
  speed = clampSpeed(speed);
  setMotors(-speed, speed);
}

// spin in place right
void turnRight(int speed) {
  speed = clampSpeed(speed);
  setMotors(speed, -speed);
}

// this is for smoother turning while moving forward
// not a full spin, just slowing one side down
void steerLeft(int baseSpeed, int amount) {

  int left = baseSpeed - amount;   // slow left motor
  int right = baseSpeed + amount;  // speed up right motor

  if (left < 0) left = 0;
  if (right > MAX_SPEED) right = MAX_SPEED;

  setMotors(left, right);
}

void steerRight(int baseSpeed, int amount) {

  int left = baseSpeed + amount;
  int right = baseSpeed - amount;

  if (right < 0) right = 0;
  if (left > MAX_SPEED) left = MAX_SPEED;

  setMotors(left, right);
}

void setup() {
  stopMotors();  // start with no speed so it doesnt randomly move
}

void loop() {

  // just testing movement for now

  forward(120);
  delay(1500);

  stopMotors();
  delay(500);

  turnLeft(120);
  delay(800);

  stopMotors();
  delay(1000);

// Josh's code
if(endirsensor == 0) {  // added a conditional to the ir sensor function so it will deactivate once the two front sensors read black
    irsensor();
  } else {
  pixytrack();
  }
}
#include <CytronMotorDriver.h>

void irsensor() {
  int frontleft = digitalRead(flsensor); 
  int frontright = digitalRead(frsensor);
  int backleft = digitalRead(blsensor);
  int backright = digitalRead(brsensor);
  if(frontleft == 1 && frontright == 1) {
    stop(); // if the two front sensors read black, then the rover should stop
    int endirfunction == 1;

  } 
  else if(frontright == 0 && frontleft == 1) {
    left(); //if the sensor detects black slightly to the left, then it will turn left

  } 
  else if(frontright == 1 && frontleft == 0) {
    right(); //if the sensor detects black slightly to the right, then it will turn right to have the 
    //line in between the two sensors 

  } 
  else if(frontright == 0 && frontleft == 0 && backright == 1 && backleft == 0) {
    hardright(); //if the rover detects black to the back right, then it hard turns in that direction

  } 
  else if(frontright == 0 && frontleft == 0 && backright == 0 && backleft == 1) {
    hardleft(); // if the rover detects black to the back left, then it will do a hard turn 
    //in that direction to find the line

  } 
  else {
    forward(); //if all of the sensors read white, then the rover should continue moving forward
  }

void loop() {
irsensor()
}
